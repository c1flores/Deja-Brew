{"ast":null,"code":"// Miscellaneous functions and IndexedDB API\nexport function pluralize(name, count) {\n  if (count === 1) {\n    return name;\n  }\n  return name + 's';\n}\nexport function idbPromise(storeName, method, object) {\n  return new Promise((resolve, reject) => {\n    const request = window.indexedDB.open('shop-shop', 1);\n    let db, tx, store;\n    request.onupgradeneeded = function (e) {\n      const db = request.result;\n      db.createObjectStore('products', {\n        keyPath: '_id'\n      });\n      db.createObjectStore('categories', {\n        keyPath: '_id'\n      });\n      db.createObjectStore('cart', {\n        keyPath: '_id'\n      });\n    };\n    request.onerror = function (e) {\n      console.log('error');\n    };\n    request.onsuccess = function (e) {\n      db = request.result;\n      tx = db.transaction(storeName, 'readwrite');\n      store = tx.objectStore(storeName);\n      db.onerror = function (e) {\n        console.log('error', e);\n      };\n      switch (method) {\n        case 'put':\n          store.put(object);\n          resolve(object);\n          break;\n        case 'get':\n          const all = store.getAll();\n          all.onsuccess = function () {\n            resolve(all.result);\n          };\n          break;\n        case 'delete':\n          store.delete(object._id);\n          break;\n        default:\n          console.log('No Valid method');\n          break;\n      }\n      tx.oncomplete = function () {\n        db.close();\n      };\n    };\n  });\n}\n;","map":{"version":3,"names":["pluralize","name","count","idbPromise","storeName","method","object","Promise","resolve","reject","request","window","indexedDB","open","db","tx","store","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","_id","oncomplete","close"],"sources":["C:/Users/Christian Flores/Desktop/Deja-Brew/client/src/utils/helpers.js"],"sourcesContent":["// Miscellaneous functions and IndexedDB API\r\nexport function pluralize(name, count) {\r\n    if (count === 1) {\r\n        return name;\r\n    }\r\n    return name + 's';\r\n}\r\n\r\nexport function idbPromise(storeName, method, object) {\r\n    return new Promise((resolve, reject) => {\r\n        const request = window.indexedDB.open('shop-shop', 1);\r\n        let db, tx, store;\r\n        request.onupgradeneeded = function(e) {\r\n            const db = request.result;\r\n            db.createObjectStore('products', { keyPath: '_id' });\r\n            db.createObjectStore('categories', {keyPath: '_id'});\r\n            db.createObjectStore('cart', {keyPath: '_id'});\r\n    };\r\n    request.onerror = function(e) {\r\n        console.log('error')\r\n    };\r\n\r\n    request.onsuccess = function(e) {\r\n        db = request.result;\r\n        tx = db.transaction(storeName, 'readwrite');\r\n        store = tx.objectStore(storeName);\r\n\r\n        db.onerror = function(e) {\r\n            console.log('error', e);\r\n        };\r\n\r\n        switch ( method) {\r\n            case 'put':\r\n                store.put(object);\r\n                resolve(object);\r\n                break;\r\n            case 'get': \r\n                const all = store.getAll();\r\n                all.onsuccess = function() {\r\n                    resolve(all.result);\r\n                };\r\n                break\r\n            case 'delete':\r\n                store.delete(object._id);\r\n                break;\r\n            default:\r\n                console.log('No Valid method')\r\n                break\r\n        }\r\n\r\n        tx.oncomplete = function() {\r\n            db.close();\r\n        };\r\n    };\r\n    });\r\n};"],"mappings":"AAAA;AACA,OAAO,SAASA,SAAS,CAACC,IAAI,EAAEC,KAAK,EAAE;EACnC,IAAIA,KAAK,KAAK,CAAC,EAAE;IACb,OAAOD,IAAI;EACf;EACA,OAAOA,IAAI,GAAG,GAAG;AACrB;AAEA,OAAO,SAASE,UAAU,CAACC,SAAS,EAAEC,MAAM,EAAEC,MAAM,EAAE;EAClD,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACpC,MAAMC,OAAO,GAAGC,MAAM,CAACC,SAAS,CAACC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;IACrD,IAAIC,EAAE,EAAEC,EAAE,EAAEC,KAAK;IACjBN,OAAO,CAACO,eAAe,GAAG,UAASC,CAAC,EAAE;MAClC,MAAMJ,EAAE,GAAGJ,OAAO,CAACS,MAAM;MACzBL,EAAE,CAACM,iBAAiB,CAAC,UAAU,EAAE;QAAEC,OAAO,EAAE;MAAM,CAAC,CAAC;MACpDP,EAAE,CAACM,iBAAiB,CAAC,YAAY,EAAE;QAACC,OAAO,EAAE;MAAK,CAAC,CAAC;MACpDP,EAAE,CAACM,iBAAiB,CAAC,MAAM,EAAE;QAACC,OAAO,EAAE;MAAK,CAAC,CAAC;IACtD,CAAC;IACDX,OAAO,CAACY,OAAO,GAAG,UAASJ,CAAC,EAAE;MAC1BK,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;IACxB,CAAC;IAEDd,OAAO,CAACe,SAAS,GAAG,UAASP,CAAC,EAAE;MAC5BJ,EAAE,GAAGJ,OAAO,CAACS,MAAM;MACnBJ,EAAE,GAAGD,EAAE,CAACY,WAAW,CAACtB,SAAS,EAAE,WAAW,CAAC;MAC3CY,KAAK,GAAGD,EAAE,CAACY,WAAW,CAACvB,SAAS,CAAC;MAEjCU,EAAE,CAACQ,OAAO,GAAG,UAASJ,CAAC,EAAE;QACrBK,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEN,CAAC,CAAC;MAC3B,CAAC;MAED,QAASb,MAAM;QACX,KAAK,KAAK;UACNW,KAAK,CAACY,GAAG,CAACtB,MAAM,CAAC;UACjBE,OAAO,CAACF,MAAM,CAAC;UACf;QACJ,KAAK,KAAK;UACN,MAAMuB,GAAG,GAAGb,KAAK,CAACc,MAAM,EAAE;UAC1BD,GAAG,CAACJ,SAAS,GAAG,YAAW;YACvBjB,OAAO,CAACqB,GAAG,CAACV,MAAM,CAAC;UACvB,CAAC;UACD;QACJ,KAAK,QAAQ;UACTH,KAAK,CAACe,MAAM,CAACzB,MAAM,CAAC0B,GAAG,CAAC;UACxB;QACJ;UACIT,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;UAC9B;MAAK;MAGbT,EAAE,CAACkB,UAAU,GAAG,YAAW;QACvBnB,EAAE,CAACoB,KAAK,EAAE;MACd,CAAC;IACL,CAAC;EACD,CAAC,CAAC;AACN;AAAC"},"metadata":{},"sourceType":"module"}