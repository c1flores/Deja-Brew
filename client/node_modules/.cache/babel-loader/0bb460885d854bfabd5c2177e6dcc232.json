{"ast":null,"code":"import { isNonEmptyArray } from \"./arrays.js\";\nimport { isExecutionPatchIncrementalResult } from \"./incrementalResult.js\";\nexport function graphQLResultHasError(result) {\n  var errors = getGraphQLErrorsFromResult(result);\n  return isNonEmptyArray(errors);\n}\nexport function getGraphQLErrorsFromResult(result) {\n  var graphQLErrors = isNonEmptyArray(result.errors) ? result.errors.slice(0) : [];\n  if (isExecutionPatchIncrementalResult(result) && isNonEmptyArray(result.incremental)) {\n    result.incremental.forEach(function (incrementalResult) {\n      if (incrementalResult.errors) {\n        graphQLErrors.push.apply(graphQLErrors, incrementalResult.errors);\n      }\n    });\n  }\n  return graphQLErrors;\n}","map":{"version":3,"mappings":"AACA,SAASA,eAAe,QAAQ;AAChC,SAASC,iCAAiC,QAAQ;AAElD,OAAM,SAAUC,qBAAqB,CAACC,MAAmB;EACvD,IAAMC,MAAM,GAAGC,0BAA0B,CAACF,MAAM,CAAC;EACjD,OAAOH,eAAe,CAACI,MAAM,CAAC;AAChC;AAEA,OAAM,SAAUC,0BAA0B,CAACF,MAAmB;EAC5D,IAAMG,aAAa,GAAGN,eAAe,CAACG,MAAM,CAACC,MAAM,CAAC,GAChDD,MAAM,CAACC,MAAM,CAACG,KAAK,CAAC,CAAC,CAAC,GACtB,EAAE;EAEN,IACEN,iCAAiC,CAACE,MAAM,CAAC,IACzCH,eAAe,CAACG,MAAM,CAACK,WAAW,CAAC,EACnC;IACAL,MAAM,CAACK,WAAW,CAACC,OAAO,CAAC,UAACC,iBAAiB;MAC3C,IAAIA,iBAAiB,CAACN,MAAM,EAAE;QAC5BE,aAAa,CAACK,IAAI,OAAlBL,aAAa,EAASI,iBAAiB,CAACN,MAAM;;IAElD,CAAC,CAAC;;EAEJ,OAAOE,aAAa;AACtB","names":["isNonEmptyArray","isExecutionPatchIncrementalResult","graphQLResultHasError","result","errors","getGraphQLErrorsFromResult","graphQLErrors","slice","incremental","forEach","incrementalResult","push"],"sourceRoot":"","sources":["../../../src/utilities/common/errorHandling.ts"],"sourcesContent":["import { FetchResult } from \"../../link/core\";\nimport { isNonEmptyArray } from \"../../utilities/common/arrays\";\nimport { isExecutionPatchIncrementalResult } from \"../../utilities/common/incrementalResult\";\n\nexport function graphQLResultHasError(result: FetchResult): boolean {\n  const errors = getGraphQLErrorsFromResult(result);\n  return isNonEmptyArray(errors);\n}\n\nexport function getGraphQLErrorsFromResult(result: FetchResult) {\n  const graphQLErrors = isNonEmptyArray(result.errors)\n    ? result.errors.slice(0)\n    : [];\n\n  if (\n    isExecutionPatchIncrementalResult(result) &&\n    isNonEmptyArray(result.incremental)\n  ) {\n    result.incremental.forEach((incrementalResult) => {\n      if (incrementalResult.errors) {\n        graphQLErrors.push(...incrementalResult.errors);\n      }\n    });\n  }\n  return graphQLErrors;\n}\n"]},"metadata":{},"sourceType":"module"}