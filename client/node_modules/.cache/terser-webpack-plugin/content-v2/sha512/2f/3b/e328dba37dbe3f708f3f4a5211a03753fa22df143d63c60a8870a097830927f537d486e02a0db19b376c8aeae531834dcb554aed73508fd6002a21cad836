{"code":"(this[\"webpackJsonpmern-client\"]=this[\"webpackJsonpmern-client\"]||[]).push([[0],{87:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){\"use strict\";n.r(t);var c=n(0),r=n.n(c),a=n(52),i=n.n(a),s=(n(87),n(7)),o=n(18),l=n(6),d=n(78),j=n(107),u=n(109),b=n(106),O=n(76),h=n(17),p=n(74),m=n(16),f=\"UPDATE_PRODUCTS\",x=\"ADD_TO_CART\",g=\"ADD_MULTIPLE_TO_CART\",v=\"REMOVE_FROM_CART\",y=\"CLEAR_CART\",w=\"UPDATE_CART_QUANTITY\",_=\"TOGGLE_CART\",k=\"UPDATE_CATEGORIES\",N=\"UPDATE_CURRENT_CATEGORY\",C={products:[],categories:[],currentCategory:\"\",cart:[],cartOpen:!1},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(s.a)(Object(s.a)({},e),{},{products:Object(m.a)(t.products)});case x:return Object(s.a)(Object(s.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(m.a)(e.cart),[t.product])});case g:return Object(s.a)(Object(s.a)({},e),{},{cart:[].concat(Object(m.a)(e.cart),Object(m.a)(t.products))});case w:return Object(s.a)(Object(s.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case v:var n=e.cart.filter((function(e){return e._id!==t._id}));return Object(s.a)(Object(s.a)({},e),{},{cartOpen:n.length>0,cart:n});case y:return Object(s.a)(Object(s.a)({},e),{},{cartOpen:!1,cart:[]});case _:return Object(s.a)(Object(s.a)({},e),{},{cartOpen:!e.cartOpen});case k:return Object(s.a)(Object(s.a)({},e),{},{categories:Object(m.a)(t.categories)});case N:return Object(s.a)(Object(s.a)({},e),{},{currentCategory:t.currentCategory});default:return e}},T=Object(p.a)(S);function E(e,t){return 1===t?e:e+\"s\"}function A(e,t,n){return new Promise((function(c,r){var a,i,s,o=window.indexedDB.open(\"shop-shop\",1);o.onupgradeneeded=function(e){var t=o.result;t.createObjectStore(\"products\",{keyPath:\"_id\"}),t.createObjectStore(\"categories\",{keyPath:\"_id\"}),t.createObjectStore(\"cart\",{keyPath:\"_id\"})},o.onerror=function(e){console.log(\"There was an error\")},o.onsuccess=function(r){switch(a=o.result,i=a.transaction(e,\"readwrite\"),s=i.objectStore(e),a.onerror=function(e){console.log(\"error\",e)},t){case\"put\":s.put(n),c(n);break;case\"get\":var l=s.getAll();l.onsuccess=function(){c(l.result)};break;case\"delete\":s.delete(n._id);break;default:console.log(\"No valid method\")}i.oncomplete=function(){a.close()}}}))}var $=n(2);var I,D,Q,P,R,F=function(e){var t=Object(h.b)(),n=Object(h.c)((function(e){return e})),c=e.image,r=e.name,a=e._id,i=e.price,l=e.quantity,d=n.cart;return Object($.jsxs)(\"div\",{className:\"card px-1 py-1\",children:[Object($.jsxs)(o.b,{to:\"/products/\".concat(a),children:[Object($.jsx)(\"img\",{alt:r,src:\"/images/\".concat(c)}),Object($.jsx)(\"p\",{children:r})]}),Object($.jsxs)(\"div\",{children:[Object($.jsxs)(\"div\",{children:[l,\" \",E(\"item\",l),\" in stock\"]}),Object($.jsxs)(\"span\",{children:[\"$\",i]})]}),Object($.jsx)(\"button\",{onClick:function(){var n=d.find((function(e){return e._id===a}));n?(t({type:w,_id:a,purchaseQuantity:parseInt(n.purchaseQuantity)+1}),A(\"cart\",\"put\",Object(s.a)(Object(s.a)({},n),{},{purchaseQuantity:parseInt(n.purchaseQuantity)+1}))):(t({type:x,product:Object(s.a)(Object(s.a)({},e),{},{purchaseQuantity:1})}),A(\"cart\",\"put\",Object(s.a)(Object(s.a)({},e),{},{purchaseQuantity:1})))},children:\"Add to cart\"})]})},U=n(79),L=n(28),q=n(108),W=Object(q.a)(I||(I=Object(L.a)([\"\\n  query getProducts($category: ID) {\\n    products(category: $category) {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      image\\n      category {\\n        _id\\n      }\\n    }\\n  }\\n\"]))),B=Object(q.a)(D||(D=Object(L.a)([\"\\n  query getCheckout($products: [ID]!) {\\n    checkout(products: $products) {\\n      session\\n    }\\n  }\\n\"]))),G=(Object(q.a)(Q||(Q=Object(L.a)([\"\\n  {\\n    products {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      }\\n    }\\n  }\\n\"]))),Object(q.a)(P||(P=Object(L.a)([\"\\n  {\\n    categories {\\n      _id\\n      name\\n    }\\n  }\\n\"])))),Y=Object(q.a)(R||(R=Object(L.a)([\"\\n  {\\n    user {\\n      firstName\\n      lastName\\n      orders {\\n        _id\\n        purchaseDate\\n        products {\\n          _id\\n          name\\n          description\\n          price\\n          quantity\\n          image\\n        }\\n      }\\n    }\\n  }\\n\"]))),M=n.p+\"static/media/spinner.689d9a07.gif\";var H=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e})),n=t.currentCategory,r=Object(U.b)(W),a=r.loading,i=r.data;return Object(c.useEffect)((function(){i?(e({type:f,products:i.products}),i.products.forEach((function(e){A(\"products\",\"put\",e)}))):a||A(\"products\",\"get\").then((function(t){e({type:f,products:t})}))}),[i,a,e]),Object($.jsxs)(\"div\",{className:\"my-2\",children:[Object($.jsx)(\"h2\",{children:\"Our Products:\"}),t.products.length?Object($.jsx)(\"div\",{className:\"flex-row\",children:(n?t.products.filter((function(e){return e.category._id===n})):t.products).map((function(e){return Object($.jsx)(F,{_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity},e._id)}))}):Object($.jsx)(\"h3\",{children:\"You haven't added any products yet!\"}),a?Object($.jsx)(\"img\",{src:M,alt:\"loading\"}):null]})};var J=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e})).categories,n=Object(U.b)(G),r=n.loading,a=n.data;return Object(c.useEffect)((function(){a?(e({type:k,categories:a.categories}),a.categories.forEach((function(e){A(\"categories\",\"put\",e)}))):r||A(\"categories\",\"get\").then((function(t){e({type:k,categories:t})}))}),[a,r,e]),Object($.jsxs)(\"div\",{children:[Object($.jsx)(\"h2\",{children:\"Choose a Category:\"}),t.map((function(t){return Object($.jsx)(\"button\",{onClick:function(){var n;n=t._id,e({type:N,currentCategory:n})},children:t.name},t._id)}))]})},z=n(8),V=n(15),K=n(10),X=n(75),Z=n(103),ee=function(e){var t=e.item,n=Object(h.b)();return Object($.jsxs)(\"div\",{className:\"flex-row\",children:[Object($.jsx)(\"div\",{children:Object($.jsx)(\"img\",{src:\"/images/\".concat(t.image),alt:\"\"})}),Object($.jsxs)(\"div\",{children:[Object($.jsxs)(\"div\",{children:[t.name,\", $\",t.price]}),Object($.jsxs)(\"div\",{children:[Object($.jsx)(\"span\",{children:\"Qty:\"}),Object($.jsx)(\"input\",{type:\"number\",placeholder:\"1\",value:t.purchaseQuantity,onChange:function(e){var c=e.target.value;\"0\"===c?(n({type:v,_id:t._id}),A(\"cart\",\"delete\",Object(s.a)({},t))):(n({type:w,_id:t._id,purchaseQuantity:parseInt(c)}),A(\"cart\",\"put\",Object(s.a)(Object(s.a)({},t),{},{purchaseQuantity:parseInt(c)})))}}),Object($.jsx)(\"span\",{role:\"img\",\"aria-label\":\"trash\",onClick:function(){return function(e){n({type:v,_id:e._id}),A(\"cart\",\"delete\",Object(s.a)({},e))}(t)},children:\"\\ud83d\\uddd1\\ufe0f\"})]})]})]})},te=n(32),ne=n(31),ce=n(65),re=n.n(ce),ae=new(function(){function e(){Object(te.a)(this,e)}return Object(ne.a)(e,[{key:\"getProfile\",value:function(){return re()(this.getToken())}},{key:\"loggedIn\",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:\"isTokenExpired\",value:function(e){try{return re()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:\"getToken\",value:function(){return localStorage.getItem(\"id_token\")}},{key:\"login\",value:function(e){localStorage.setItem(\"id_token\",e),window.location.assign(\"/\")}},{key:\"logout\",value:function(){localStorage.removeItem(\"id_token\"),window.location.assign(\"/\")}}]),e}()),ie=(n(95),Object(X.a)(\"pk_test_TYooMQauvdEDq54NiTphI7jx\")),se=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e})),n=Object(Z.a)(B),r=Object(K.a)(n,2),a=r[0],i=r[1].data;function s(){e({type:_})}return Object(c.useEffect)((function(){i&&ie.then((function(e){e.redirectToCheckout({sessionId:i.checkout.session})}))}),[i]),Object(c.useEffect)((function(){function n(){return(n=Object(V.a)(Object(z.a)().mark((function t(){var n;return Object(z.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(\"cart\",\"get\");case 2:n=t.sent,e({type:g,products:Object(m.a)(n)});case 4:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}t.cart.length||function(){n.apply(this,arguments)}()}),[t.cart.length,e]),t.cartOpen?Object($.jsxs)(\"div\",{className:\"cart\",children:[Object($.jsx)(\"div\",{className:\"close\",onClick:s,children:\"[close]\"}),Object($.jsx)(\"h2\",{children:\"Shopping Cart\"}),t.cart.length?Object($.jsxs)(\"div\",{children:[t.cart.map((function(e){return Object($.jsx)(ee,{item:e},e._id)})),Object($.jsxs)(\"div\",{className:\"flex-row space-between\",children:[Object($.jsxs)(\"strong\",{children:[\"Total: $\",function(){var e=0;return t.cart.forEach((function(t){e+=t.price*t.purchaseQuantity})),e.toFixed(2)}()]}),ae.loggedIn()?Object($.jsx)(\"button\",{onClick:function(){var e=[];t.cart.forEach((function(t){for(var n=0;n<t.purchaseQuantity;n++)e.push(t._id)})),a({variables:{products:e}})},children:\"Checkout\"}):Object($.jsx)(\"span\",{children:\"(log in to check out)\"})]})]}):Object($.jsxs)(\"h3\",{children:[Object($.jsx)(\"span\",{role:\"img\",\"aria-label\":\"shocked\",children:\"\\ud83d\\ude31\"}),\"You haven't added anything to your cart yet!\"]})]}):Object($.jsx)(\"div\",{className:\"cart-closed\",onClick:s,children:Object($.jsx)(\"span\",{role:\"img\",\"aria-label\":\"trash\",children:\"\\ud83d\\uded2\"})})},oe=function(){return Object($.jsxs)(\"div\",{className:\"container\",children:[Object($.jsx)(J,{}),Object($.jsx)(H,{}),Object($.jsx)(se,{})]})};var le=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e})),n=Object(l.n)().id,r=Object(c.useState)({}),a=Object(K.a)(r,2),i=a[0],d=a[1],j=Object(U.b)(W),u=j.loading,b=j.data,O=t.products,p=t.cart;return Object(c.useEffect)((function(){O.length?d(O.find((function(e){return e._id===n}))):b?(e({type:f,products:b.products}),b.products.forEach((function(e){A(\"products\",\"put\",e)}))):u||A(\"products\",\"get\").then((function(t){e({type:f,products:t})}))}),[O,b,u,e,n]),Object($.jsxs)($.Fragment,{children:[i&&p?Object($.jsxs)(\"div\",{className:\"container my-1\",children:[Object($.jsx)(o.b,{to:\"/\",children:\"\\u2190 Back to Products\"}),Object($.jsx)(\"h2\",{children:i.name}),Object($.jsx)(\"p\",{children:i.description}),Object($.jsxs)(\"p\",{children:[Object($.jsx)(\"strong\",{children:\"Price:\"}),\"$\",i.price,\" \",Object($.jsx)(\"button\",{onClick:function(){var t=p.find((function(e){return e._id===n}));t?(e({type:w,_id:n,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),A(\"cart\",\"put\",Object(s.a)(Object(s.a)({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(e({type:x,product:Object(s.a)(Object(s.a)({},i),{},{purchaseQuantity:1})}),A(\"cart\",\"put\",Object(s.a)(Object(s.a)({},i),{},{purchaseQuantity:1})))},children:\"Add to Cart\"}),Object($.jsx)(\"button\",{disabled:!p.find((function(e){return e._id===i._id})),onClick:function(){e({type:v,_id:i._id}),A(\"cart\",\"delete\",Object(s.a)({},i))},children:\"Remove from Cart\"})]}),Object($.jsx)(\"img\",{src:\"/images/\".concat(i.image),alt:i.name})]}):null,u?Object($.jsx)(\"img\",{src:M,alt:\"loading\"}):null,Object($.jsx)(se,{})]})};var de,je,ue,be=function(e){var t=e.children;return Object($.jsx)(\"div\",{style:{height:560,clear:\"both\",paddingTop:120,textAlign:\"center\"},children:t})},Oe=function(){return Object($.jsx)(\"div\",{children:Object($.jsxs)(be,{children:[Object($.jsx)(\"h1\",{children:\"404 Page Not Found\"}),Object($.jsx)(\"h1\",{children:Object($.jsx)(\"span\",{role:\"img\",\"aria-label\":\"Face With Rolling Eyes Emoji\",children:\"\\ud83d\\ude44\"})})]})})},he=n(14),pe=n(104),me=Object(q.a)(de||(de=Object(L.a)([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"]))),fe=Object(q.a)(je||(je=Object(L.a)([\"\\n  mutation addOrder($products: [ID]!) {\\n    addOrder(products: $products) {\\n      purchaseDate\\n      products {\\n        _id\\n        name\\n        description\\n        price\\n        quantity\\n        category {\\n          name\\n        }\\n      }\\n    }\\n  }\\n\"]))),xe=Object(q.a)(ue||(ue=Object(L.a)([\"\\n  mutation addUser(\\n    $firstName: String!\\n    $lastName: String!\\n    $email: String!\\n    $password: String!\\n  ) {\\n    addUser(\\n      firstName: $firstName\\n      lastName: $lastName\\n      email: $email\\n      password: $password\\n    ) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"])));var ge=function(e){var t=Object(c.useState)({email:\"\",password:\"\"}),n=Object(K.a)(t,2),r=n[0],a=n[1],i=Object(pe.a)(me),l=Object(K.a)(i,2),d=l[0],j=l[1].error,u=function(){var e=Object(V.a)(Object(z.a)().mark((function e(t){var n,c;return Object(z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d({variables:{email:r.email,password:r.password}});case 4:n=e.sent,c=n.data.login.token,ae.login(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=e.target,n=t.name,c=t.value;a(Object(s.a)(Object(s.a)({},r),{},Object(he.a)({},n,c)))};return Object($.jsxs)(\"div\",{className:\"container my-1\",children:[Object($.jsx)(o.b,{to:\"/signup\",children:\"\\u2190 Go to Signup\"}),Object($.jsx)(\"h2\",{children:\"Login\"}),Object($.jsxs)(\"form\",{onSubmit:u,children:[Object($.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object($.jsx)(\"label\",{htmlFor:\"email\",children:\"Email address:\"}),Object($.jsx)(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:b})]}),Object($.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object($.jsx)(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),Object($.jsx)(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:b})]}),j?Object($.jsx)(\"div\",{children:Object($.jsx)(\"p\",{className:\"error-text\",children:\"The provided credentials are incorrect\"})}):null,Object($.jsx)(\"div\",{className:\"flex-row flex-end\",children:Object($.jsx)(\"button\",{type:\"submit\",children:\"Submit\"})})]})]})};var ve=function(e){var t=Object(c.useState)({email:\"\",password:\"\"}),n=Object(K.a)(t,2),r=n[0],a=n[1],i=Object(pe.a)(xe),l=Object(K.a)(i,1)[0],d=function(){var e=Object(V.a)(Object(z.a)().mark((function e(t){var n,c;return Object(z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,l({variables:{email:r.email,password:r.password,firstName:r.firstName,lastName:r.lastName}});case 3:n=e.sent,c=n.data.addUser.token,ae.login(c);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t=e.target,n=t.name,c=t.value;a(Object(s.a)(Object(s.a)({},r),{},Object(he.a)({},n,c)))};return Object($.jsxs)(\"div\",{className:\"container my-1\",children:[Object($.jsx)(o.b,{to:\"/login\",children:\"\\u2190 Go to Login\"}),Object($.jsx)(\"h2\",{children:\"Signup\"}),Object($.jsxs)(\"form\",{onSubmit:d,children:[Object($.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object($.jsx)(\"label\",{htmlFor:\"firstName\",children:\"First Name:\"}),Object($.jsx)(\"input\",{placeholder:\"First\",name:\"firstName\",type:\"firstName\",id:\"firstName\",onChange:j})]}),Object($.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object($.jsx)(\"label\",{htmlFor:\"lastName\",children:\"Last Name:\"}),Object($.jsx)(\"input\",{placeholder:\"Last\",name:\"lastName\",type:\"lastName\",id:\"lastName\",onChange:j})]}),Object($.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object($.jsx)(\"label\",{htmlFor:\"email\",children:\"Email:\"}),Object($.jsx)(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:j})]}),Object($.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object($.jsx)(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),Object($.jsx)(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:j})]}),Object($.jsx)(\"div\",{className:\"flex-row flex-end\",children:Object($.jsx)(\"button\",{type:\"submit\",children:\"Submit\"})})]})]})};var ye=function(){return Object($.jsxs)(\"header\",{className:\"flex-row px-1\",children:[Object($.jsx)(\"h1\",{children:Object($.jsxs)(o.b,{to:\"/\",children:[Object($.jsx)(\"span\",{role:\"img\",\"aria-label\":\"shopping bag\",children:\"\\ud83d\\udecd\\ufe0f\"}),\"-Shop-Shop\"]})}),Object($.jsx)(\"nav\",{children:ae.loggedIn()?Object($.jsxs)(\"ul\",{className:\"flex-row\",children:[Object($.jsx)(\"li\",{className:\"mx-1\",children:Object($.jsx)(o.b,{to:\"/orderHistory\",children:\"Order History\"})}),Object($.jsx)(\"li\",{className:\"mx-1\",children:Object($.jsx)(\"a\",{href:\"/\",onClick:function(){return ae.logout()},children:\"Logout\"})})]}):Object($.jsxs)(\"ul\",{className:\"flex-row\",children:[Object($.jsx)(\"li\",{className:\"mx-1\",children:Object($.jsx)(o.b,{to:\"/signup\",children:\"Signup\"})}),Object($.jsx)(\"li\",{className:\"mx-1\",children:Object($.jsx)(o.b,{to:\"/login\",children:\"Login\"})})]})})]})};var we=function(){var e=Object(pe.a)(fe),t=Object(K.a)(e,1)[0];return Object(c.useEffect)((function(){function e(){return(e=Object(V.a)(Object(z.a)().mark((function e(){var n,c,r,a;return Object(z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(\"cart\",\"get\");case 2:if(n=e.sent,!(c=n.map((function(e){return e._id}))).length){e.next=11;break}return e.next=7,t({variables:{products:c}});case 7:r=e.sent,a=r.data,a.addOrder.products.forEach((function(e){A(\"cart\",\"delete\",e)}));case 11:setTimeout((function(){window.location.assign(\"/\")}),3e3);case 12:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object($.jsx)(\"div\",{children:Object($.jsxs)(be,{children:[Object($.jsx)(\"h1\",{children:\"Success!\"}),Object($.jsx)(\"h2\",{children:\"Thank you for your purchase!\"}),Object($.jsx)(\"h2\",{children:\"You will now be redirected to the home page\"})]})})};var _e=function(){var e,t=Object(U.b)(Y).data;return t&&(e=t.user),Object($.jsx)($.Fragment,{children:Object($.jsxs)(\"div\",{className:\"container my-1\",children:[Object($.jsx)(o.b,{to:\"/\",children:\"\\u2190 Back to Products\"}),e?Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(\"h2\",{children:[\"Order History for \",e.firstName,\" \",e.lastName]}),e.orders.map((function(e){return Object($.jsxs)(\"div\",{className:\"my-2\",children:[Object($.jsx)(\"h3\",{children:new Date(parseInt(e.purchaseDate)).toLocaleDateString()}),Object($.jsx)(\"div\",{className:\"flex-row\",children:e.products.map((function(e,t){var n=e._id,c=e.image,r=e.name,a=e.price;return Object($.jsxs)(\"div\",{className:\"card px-1 py-1\",children:[Object($.jsxs)(o.b,{to:\"/products/\".concat(n),children:[Object($.jsx)(\"img\",{alt:r,src:\"/images/\".concat(c)}),Object($.jsx)(\"p\",{children:r})]}),Object($.jsx)(\"div\",{children:Object($.jsxs)(\"span\",{children:[\"$\",a]})})]},t)}))})]},e._id)}))]}):null]})})},ke=Object(d.a)({uri:\"/graphql\"}),Ne=Object(O.a)((function(e,t){var n=t.headers,c=localStorage.getItem(\"id_token\");return{headers:Object(s.a)(Object(s.a)({},n),{},{authorization:c?\"Bearer \".concat(c):\"\"})}})),Ce=new j.a({link:Ne.concat(ke),cache:new u.a});var Se=function(){return Object($.jsx)(b.a,{client:Ce,children:Object($.jsx)(o.a,{children:Object($.jsx)(\"div\",{children:Object($.jsxs)(h.a,{store:T,children:[Object($.jsx)(ye,{}),Object($.jsxs)(l.c,{children:[Object($.jsx)(l.a,{path:\"/\",element:Object($.jsx)(oe,{})}),Object($.jsx)(l.a,{path:\"/login\",element:Object($.jsx)(ge,{})}),Object($.jsx)(l.a,{path:\"/signup\",element:Object($.jsx)(ve,{})}),Object($.jsx)(l.a,{path:\"/success\",element:Object($.jsx)(we,{})}),Object($.jsx)(l.a,{path:\"/orderHistory\",element:Object($.jsx)(_e,{})}),Object($.jsx)(l.a,{path:\"/products/:id\",element:Object($.jsx)(le,{})}),Object($.jsx)(l.a,{path:\"*\",element:Object($.jsx)(Oe,{})})]})]})})})})},Te=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ee(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){\"installed\"===n.state&&(navigator.serviceWorker.controller?(console.log(\"New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA.\"),t&&t.onUpdate&&t.onUpdate(e)):(console.log(\"Content is cached for offline use.\"),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error(\"Error during service worker registration:\",e)}))}i.a.render(Object($.jsx)(r.a.StrictMode,{children:Object($.jsx)(Se,{})}),document.getElementById(\"root\")),function(e){if(\"serviceWorker\"in navigator){if(new URL(\"\",window.location.href).origin!==window.location.origin)return;window.addEventListener(\"load\",(function(){var t=\"\".concat(\"\",\"/service-worker.js\");Te?(!function(e,t){fetch(e,{headers:{\"Service-Worker\":\"script\"}}).then((function(n){var c=n.headers.get(\"content-type\");404===n.status||null!=c&&-1===c.indexOf(\"javascript\")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ee(e,t)})).catch((function(){console.log(\"No internet connection found. App is running in offline mode.\")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA\")}))):Ee(t,e)}))}}()}},[[96,1,2]]]);","name":"static/js/main.4e969534.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","dist","react_router_dist","createHttpLink","ApolloClient","inMemoryCache","ApolloProvider","context","es","redux","toConsumableArray","UPDATE_PRODUCTS","ADD_TO_CART","ADD_MULTIPLE_TO_CART","REMOVE_FROM_CART","CLEAR_CART","UPDATE_CART_QUANTITY","TOGGLE_CART","UPDATE_CATEGORIES","UPDATE_CURRENT_CATEGORY","initialState","products","categories","currentCategory","cart","cartOpen","utils_reducers","state","arguments","length","undefined","action","type","Object","concat","product","map","_id","purchaseQuantity","newState","filter","store","pluralize","name","count","idbPromise","storeName","method","object","Promise","resolve","reject","db","tx","request","window","indexedDB","open","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","oncomplete","close","jsx_runtime","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","components_ProductItem","item","dispatch","image","price","quantity","className","children","to","alt","src","onClick","itemInCart","find","cartItem","parseInt","useQuery","taggedTemplateLiteral","lib","QUERY_PRODUCTS","QUERY_CHECKOUT","QUERY_CATEGORIES","QUERY_USER","spinner","p","components_ProductList","_useQuery","loading","data","forEach","then","category","components_CategoryMenu","categoryData","id","regeneratorRuntime","asyncToGenerator","slicedToArray","stripe_esm","useLazyQuery","components_CartItem","_ref","placeholder","value","onChange","target","role","removeFromCart","classCallCheck","createClass","jwt_decode_lib","lib_default","auth","AuthService","key","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","location","assign","removeItem","stripePromise","components_Cart","_useLazyQuery","_useLazyQuery2","getCheckout","toggleCart","res","redirectToCheckout","sessionId","checkout","session","_getCart","mark","_callee","wrap","_context","prev","next","sent","stop","apply","getCart","sum","toFixed","calculateTotal","loggedIn","productIds","i","variables","pages_Home","pages_Detail","_useState","_useState2","currentProduct","setCurrentProduct","indexedProducts","description","disabled","mutations_templateObject","mutations_templateObject2","mutations_templateObject3","components_Jumbotron","style","height","clear","paddingTop","textAlign","pages_NoMatch","defineProperty","useMutation","LOGIN","ADD_ORDER","ADD_USER","pages_Login","props","email","password","formState","setFormState","_useMutation","_useMutation2","login","error","handleFormSubmit","event","mutationResponse","preventDefault","t0","_x","handleChange","_event$target","onSubmit","htmlFor","pages_Signup","addUser","firstName","lastName","components_Nav","href","logout","pages_Success","addOrder","_saveOrder","_yield$addOrder","setTimeout","saveOrder","pages_OrderHistory","user","orders","order","purchaseDate","toLocaleDateString","index","httpLink","uri","authLink","_","headers","authorization","client","link","cache","src_App","path","element","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","a","render","StrictMode","document","getElementById","URL","origin","addEventListener","fetch","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"sources":["static/js/main.4e969534.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonpmern-client\"] = this[\"webpackJsonpmern-client\"] || []).push([[0],{\n\n/***/ 87:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 95:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(52);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(87);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar dist = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar react_router_dist = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/link/http/createHttpLink.js + 16 modules\nvar createHttpLink = __webpack_require__(78);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/core/ApolloClient.js + 13 modules\nvar ApolloClient = __webpack_require__(107);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/cache/inmemory/inMemoryCache.js + 8 modules\nvar inMemoryCache = __webpack_require__(109);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/context/ApolloProvider.js\nvar ApolloProvider = __webpack_require__(106);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/link/context/index.js\nvar context = __webpack_require__(76);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 26 modules\nvar es = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/redux/es/redux.js\nvar redux = __webpack_require__(74);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(16);\n\n// CONCATENATED MODULE: ./src/utils/actions.js\nvar UPDATE_PRODUCTS=\"UPDATE_PRODUCTS\";var ADD_TO_CART=\"ADD_TO_CART\";var ADD_MULTIPLE_TO_CART=\"ADD_MULTIPLE_TO_CART\";var REMOVE_FROM_CART=\"REMOVE_FROM_CART\";var CLEAR_CART=\"CLEAR_CART\";var UPDATE_CART_QUANTITY=\"UPDATE_CART_QUANTITY\";var TOGGLE_CART=\"TOGGLE_CART\";var UPDATE_CATEGORIES=\"UPDATE_CATEGORIES\";var UPDATE_CURRENT_CATEGORY=\"UPDATE_CURRENT_CATEGORY\";\n// CONCATENATED MODULE: ./src/utils/reducers.js\nvar initialState={products:[],categories:[],currentCategory:'',cart:[],cartOpen:false};var reducers_reducers=function reducers(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case UPDATE_PRODUCTS:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{products:Object(toConsumableArray[\"a\" /* default */])(action.products)});case ADD_TO_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:true,cart:[].concat(Object(toConsumableArray[\"a\" /* default */])(state.cart),[action.product])});case ADD_MULTIPLE_TO_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cart:[].concat(Object(toConsumableArray[\"a\" /* default */])(state.cart),Object(toConsumableArray[\"a\" /* default */])(action.products))});case UPDATE_CART_QUANTITY:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:true,cart:state.cart.map(function(product){if(action._id===product._id){product.purchaseQuantity=action.purchaseQuantity;}return product;})});case REMOVE_FROM_CART:var newState=state.cart.filter(function(product){return product._id!==action._id;});return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:newState.length>0,cart:newState});case CLEAR_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:false,cart:[]});case TOGGLE_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:!state.cartOpen});case UPDATE_CATEGORIES:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{categories:Object(toConsumableArray[\"a\" /* default */])(action.categories)});case UPDATE_CURRENT_CATEGORY:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{currentCategory:action.currentCategory});default:return state;}};/* harmony default export */ var utils_reducers = (reducers_reducers);\n// CONCATENATED MODULE: ./src/utils/store.js\n/* harmony default export */ var store = (Object(redux[\"a\" /* createStore */])(utils_reducers));\n// CONCATENATED MODULE: ./src/utils/helpers.js\nfunction pluralize(name,count){if(count===1){return name;}return name+'s';}function idbPromise(storeName,method,object){return new Promise(function(resolve,reject){var request=window.indexedDB.open('shop-shop',1);var db,tx,store;request.onupgradeneeded=function(e){var db=request.result;db.createObjectStore('products',{keyPath:'_id'});db.createObjectStore('categories',{keyPath:'_id'});db.createObjectStore('cart',{keyPath:'_id'});};request.onerror=function(e){console.log('There was an error');};request.onsuccess=function(e){db=request.result;tx=db.transaction(storeName,'readwrite');store=tx.objectStore(storeName);db.onerror=function(e){console.log('error',e);};switch(method){case'put':store.put(object);resolve(object);break;case'get':var all=store.getAll();all.onsuccess=function(){resolve(all.result);};break;case'delete':store.delete(object._id);break;default:console.log('No valid method');break;}tx.oncomplete=function(){db.close();};};});}\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/components/ProductItem/index.js\nfunction ProductItem(item){var dispatch=Object(es[\"b\" /* useDispatch */])();var state=Object(es[\"c\" /* useSelector */])(function(state){return state;});var image=item.image,name=item.name,_id=item._id,price=item.price,quantity=item.quantity;var cart=state.cart;var addToCart=function addToCart(){var itemInCart=cart.find(function(cartItem){return cartItem._id===_id;});if(itemInCart){dispatch({type:UPDATE_CART_QUANTITY,_id:_id,purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},itemInCart),{},{purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1}));}else{dispatch({type:ADD_TO_CART,product:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},item),{},{purchaseQuantity:1})});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},item),{},{purchaseQuantity:1}));}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card px-1 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(dist[\"b\" /* Link */],{to:\"/products/\".concat(_id),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:name,src:\"/images/\".concat(image)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:name})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[quantity,\" \",pluralize('item',quantity),\" in stock\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"$\",price]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:addToCart,children:\"Add to cart\"})]});}/* harmony default export */ var components_ProductItem = (ProductItem);\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useQuery.js + 1 modules\nvar useQuery = __webpack_require__(79);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/graphql-tag/lib/index.js + 10 modules\nvar lib = __webpack_require__(108);\n\n// CONCATENATED MODULE: ./src/utils/queries.js\nvar _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;var QUERY_PRODUCTS=Object(lib[\"a\" /* gql */])(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query getProducts($category: ID) {\\n    products(category: $category) {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      image\\n      category {\\n        _id\\n      }\\n    }\\n  }\\n\"])));var QUERY_CHECKOUT=Object(lib[\"a\" /* gql */])(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query getCheckout($products: [ID]!) {\\n    checkout(products: $products) {\\n      session\\n    }\\n  }\\n\"])));var QUERY_ALL_PRODUCTS=Object(lib[\"a\" /* gql */])(_templateObject3||(_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  {\\n    products {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      }\\n    }\\n  }\\n\"])));var QUERY_CATEGORIES=Object(lib[\"a\" /* gql */])(_templateObject4||(_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  {\\n    categories {\\n      _id\\n      name\\n    }\\n  }\\n\"])));var QUERY_USER=Object(lib[\"a\" /* gql */])(_templateObject5||(_templateObject5=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  {\\n    user {\\n      firstName\\n      lastName\\n      orders {\\n        _id\\n        purchaseDate\\n        products {\\n          _id\\n          name\\n          description\\n          price\\n          quantity\\n          image\\n        }\\n      }\\n    }\\n  }\\n\"])));\n// CONCATENATED MODULE: ./src/assets/spinner.gif\n/* harmony default export */ var spinner = (__webpack_require__.p + \"static/media/spinner.689d9a07.gif\");\n// CONCATENATED MODULE: ./src/components/ProductList/index.js\nfunction ProductList(){var dispatch=Object(es[\"b\" /* useDispatch */])();var state=Object(es[\"c\" /* useSelector */])(function(state){return state;});var currentCategory=state.currentCategory;var _useQuery=Object(useQuery[\"b\" /* useQuery */])(QUERY_PRODUCTS),loading=_useQuery.loading,data=_useQuery.data;Object(react[\"useEffect\"])(function(){if(data){dispatch({type:UPDATE_PRODUCTS,products:data.products});data.products.forEach(function(product){idbPromise('products','put',product);});}else if(!loading){idbPromise('products','get').then(function(products){dispatch({type:UPDATE_PRODUCTS,products:products});});}},[data,loading,dispatch]);function filterProducts(){if(!currentCategory){return state.products;}return state.products.filter(function(product){return product.category._id===currentCategory;});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Our Products:\"}),state.products.length?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row\",children:filterProducts().map(function(product){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ProductItem,{_id:product._id,image:product.image,name:product.name,price:product.price,quantity:product.quantity},product._id);})}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"You haven't added any products yet!\"}),loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:spinner,alt:\"loading\"}):null]});}/* harmony default export */ var components_ProductList = (ProductList);\n// CONCATENATED MODULE: ./src/components/CategoryMenu/index.js\nfunction CategoryMenu(){var dispatch=Object(es[\"b\" /* useDispatch */])();var state=Object(es[\"c\" /* useSelector */])(function(state){return state;});var categories=state.categories;var _useQuery=Object(useQuery[\"b\" /* useQuery */])(QUERY_CATEGORIES),loading=_useQuery.loading,categoryData=_useQuery.data;Object(react[\"useEffect\"])(function(){if(categoryData){dispatch({type:UPDATE_CATEGORIES,categories:categoryData.categories});categoryData.categories.forEach(function(category){idbPromise('categories','put',category);});}else if(!loading){idbPromise('categories','get').then(function(categories){dispatch({type:UPDATE_CATEGORIES,categories:categories});});}},[categoryData,loading,dispatch]);var handleClick=function handleClick(id){dispatch({type:UPDATE_CURRENT_CATEGORY,currentCategory:id});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Choose a Category:\"}),categories.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){handleClick(item._id);},children:item.name},item._id);})]});}/* harmony default export */ var components_CategoryMenu = (CategoryMenu);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\nvar regeneratorRuntime = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/@stripe/stripe-js/dist/stripe.esm.js\nvar stripe_esm = __webpack_require__(75);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useLazyQuery.js\nvar useLazyQuery = __webpack_require__(103);\n\n// CONCATENATED MODULE: ./src/components/CartItem/index.js\nvar CartItem_CartItem=function CartItem(_ref){var item=_ref.item;var dispatch=Object(es[\"b\" /* useDispatch */])();var removeFromCart=function removeFromCart(item){dispatch({type:REMOVE_FROM_CART,_id:item._id});idbPromise('cart','delete',Object(objectSpread2[\"a\" /* default */])({},item));};var onChange=function onChange(e){var value=e.target.value;if(value==='0'){dispatch({type:REMOVE_FROM_CART,_id:item._id});idbPromise('cart','delete',Object(objectSpread2[\"a\" /* default */])({},item));}else{dispatch({type:UPDATE_CART_QUANTITY,_id:item._id,purchaseQuantity:parseInt(value)});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},item),{},{purchaseQuantity:parseInt(value)}));}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"/images/\".concat(item.image),alt:\"\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[item.name,\", $\",item.price]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Qty:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",placeholder:\"1\",value:item.purchaseQuantity,onChange:onChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"trash\",onClick:function onClick(){return removeFromCart(item);},children:\"\\uD83D\\uDDD1\\uFE0F\"})]})]})]});};/* harmony default export */ var components_CartItem = (CartItem_CartItem);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(31);\n\n// EXTERNAL MODULE: ./node_modules/jwt-decode/lib/index.js\nvar jwt_decode_lib = __webpack_require__(65);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(jwt_decode_lib);\n\n// CONCATENATED MODULE: ./src/utils/auth.js\nvar auth_AuthService=/*#__PURE__*/function(){function AuthService(){Object(classCallCheck[\"a\" /* default */])(this,AuthService);}Object(createClass[\"a\" /* default */])(AuthService,[{key:\"getProfile\",value:function getProfile(){return lib_default()(this.getToken());}},{key:\"loggedIn\",value:function loggedIn(){// Checks if there is a saved token and it's still valid\nvar token=this.getToken();return!!token&&!this.isTokenExpired(token);}},{key:\"isTokenExpired\",value:function isTokenExpired(token){try{var decoded=lib_default()(token);if(decoded.exp<Date.now()/1000){return true;}else return false;}catch(err){return false;}}},{key:\"getToken\",value:function getToken(){// Retrieves the user token from localStorage\nreturn localStorage.getItem('id_token');}},{key:\"login\",value:function login(idToken){// Saves user token to localStorage\nlocalStorage.setItem('id_token',idToken);window.location.assign('/');}},{key:\"logout\",value:function logout(){// Clear user token and profile data from localStorage\nlocalStorage.removeItem('id_token');// this will reload the page and reset the state of the application\nwindow.location.assign('/');}}]);return AuthService;}();/* harmony default export */ var auth = (new auth_AuthService());\n// EXTERNAL MODULE: ./src/components/Cart/style.css\nvar style = __webpack_require__(95);\n\n// CONCATENATED MODULE: ./src/components/Cart/index.js\nvar stripePromise=Object(stripe_esm[\"a\" /* loadStripe */])('pk_test_TYooMQauvdEDq54NiTphI7jx');var Cart_Cart=function Cart(){var dispatch=Object(es[\"b\" /* useDispatch */])();var state=Object(es[\"c\" /* useSelector */])(function(state){return state;});var _useLazyQuery=Object(useLazyQuery[\"a\" /* useLazyQuery */])(QUERY_CHECKOUT),_useLazyQuery2=Object(slicedToArray[\"a\" /* default */])(_useLazyQuery,2),getCheckout=_useLazyQuery2[0],data=_useLazyQuery2[1].data;Object(react[\"useEffect\"])(function(){if(data){stripePromise.then(function(res){res.redirectToCheckout({sessionId:data.checkout.session});});}},[data]);Object(react[\"useEffect\"])(function(){function getCart(){return _getCart.apply(this,arguments);}function _getCart(){_getCart=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(){var cart;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return idbPromise('cart','get');case 2:cart=_context.sent;dispatch({type:ADD_MULTIPLE_TO_CART,products:Object(toConsumableArray[\"a\" /* default */])(cart)});case 4:case\"end\":return _context.stop();}},_callee);}));return _getCart.apply(this,arguments);}if(!state.cart.length){getCart();}},[state.cart.length,dispatch]);function toggleCart(){dispatch({type:TOGGLE_CART});}function calculateTotal(){var sum=0;state.cart.forEach(function(item){sum+=item.price*item.purchaseQuantity;});return sum.toFixed(2);}function submitCheckout(){var productIds=[];state.cart.forEach(function(item){for(var i=0;i<item.purchaseQuantity;i++){productIds.push(item._id);}});getCheckout({variables:{products:productIds}});}if(!state.cartOpen){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"cart-closed\",onClick:toggleCart,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"trash\",children:\"\\uD83D\\uDED2\"})});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"cart\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"close\",onClick:toggleCart,children:\"[close]\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Shopping Cart\"}),state.cart.length?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[state.cart.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_CartItem,{item:item},item._id);}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"strong\",{children:[\"Total: $\",calculateTotal()]}),auth.loggedIn()?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:submitCheckout,children:\"Checkout\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"(log in to check out)\"})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"shocked\",children:\"\\uD83D\\uDE31\"}),\"You haven't added anything to your cart yet!\"]})]});};/* harmony default export */ var components_Cart = (Cart_Cart);\n// CONCATENATED MODULE: ./src/pages/Home.js\nvar Home_Home=function Home(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_CategoryMenu,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ProductList,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Cart,{})]});};/* harmony default export */ var pages_Home = (Home_Home);\n// CONCATENATED MODULE: ./src/pages/Detail.js\nfunction Detail(){var dispatch=Object(es[\"b\" /* useDispatch */])();var state=Object(es[\"c\" /* useSelector */])(function(state){return state;});var _useParams=Object(react_router_dist[\"n\" /* useParams */])(),id=_useParams.id;var _useState=Object(react[\"useState\"])({}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentProduct=_useState2[0],setCurrentProduct=_useState2[1];var _useQuery=Object(useQuery[\"b\" /* useQuery */])(QUERY_PRODUCTS),loading=_useQuery.loading,data=_useQuery.data;var products=state.products,cart=state.cart;Object(react[\"useEffect\"])(function(){// already in global store\nif(products.length){setCurrentProduct(products.find(function(product){return product._id===id;}));}// retrieved from server\nelse if(data){dispatch({type:UPDATE_PRODUCTS,products:data.products});data.products.forEach(function(product){idbPromise('products','put',product);});}// get cache from idb\nelse if(!loading){idbPromise('products','get').then(function(indexedProducts){dispatch({type:UPDATE_PRODUCTS,products:indexedProducts});});}},[products,data,loading,dispatch,id]);var addToCart=function addToCart(){var itemInCart=cart.find(function(cartItem){return cartItem._id===id;});if(itemInCart){dispatch({type:UPDATE_CART_QUANTITY,_id:id,purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},itemInCart),{},{purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1}));}else{dispatch({type:ADD_TO_CART,product:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},currentProduct),{},{purchaseQuantity:1})});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},currentProduct),{},{purchaseQuantity:1}));}};var removeFromCart=function removeFromCart(){dispatch({type:REMOVE_FROM_CART,_id:currentProduct._id});idbPromise('cart','delete',Object(objectSpread2[\"a\" /* default */])({},currentProduct));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[currentProduct&&cart?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container my-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/\",children:\"\\u2190 Back to Products\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:currentProduct.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:currentProduct.description}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:\"Price:\"}),\"$\",currentProduct.price,' ',/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:addToCart,children:\"Add to Cart\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{disabled:!cart.find(function(p){return p._id===currentProduct._id;}),onClick:removeFromCart,children:\"Remove from Cart\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"/images/\".concat(currentProduct.image),alt:currentProduct.name})]}):null,loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:spinner,alt:\"loading\"}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Cart,{})]});}/* harmony default export */ var pages_Detail = (Detail);\n// CONCATENATED MODULE: ./src/components/Jumbotron/index.js\nfunction Jumbotron(_ref){var children=_ref.children;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{height:560,clear:'both',paddingTop:120,textAlign:'center'},children:children});}/* harmony default export */ var components_Jumbotron = (Jumbotron);\n// CONCATENATED MODULE: ./src/pages/NoMatch.js\nvar NoMatch_NoMatch=function NoMatch(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_Jumbotron,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"404 Page Not Found\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"Face With Rolling Eyes Emoji\",children:\"\\uD83D\\uDE44\"})})]})});};/* harmony default export */ var pages_NoMatch = (NoMatch_NoMatch);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useMutation.js\nvar useMutation = __webpack_require__(104);\n\n// CONCATENATED MODULE: ./src/utils/mutations.js\nvar mutations_templateObject,mutations_templateObject2,mutations_templateObject3;var LOGIN=Object(lib[\"a\" /* gql */])(mutations_templateObject||(mutations_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"])));var ADD_ORDER=Object(lib[\"a\" /* gql */])(mutations_templateObject2||(mutations_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation addOrder($products: [ID]!) {\\n    addOrder(products: $products) {\\n      purchaseDate\\n      products {\\n        _id\\n        name\\n        description\\n        price\\n        quantity\\n        category {\\n          name\\n        }\\n      }\\n    }\\n  }\\n\"])));var ADD_USER=Object(lib[\"a\" /* gql */])(mutations_templateObject3||(mutations_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation addUser(\\n    $firstName: String!\\n    $lastName: String!\\n    $email: String!\\n    $password: String!\\n  ) {\\n    addUser(\\n      firstName: $firstName\\n      lastName: $lastName\\n      email: $email\\n      password: $password\\n    ) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"])));\n// CONCATENATED MODULE: ./src/pages/Login.js\nfunction Login(props){var _useState=Object(react[\"useState\"])({email:'',password:''}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(LOGIN),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),login=_useMutation2[0],error=_useMutation2[1].error;var handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(event){var mutationResponse,token;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return login({variables:{email:formState.email,password:formState.password}});case 4:mutationResponse=_context.sent;token=mutationResponse.data.login.token;auth.login(token);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[1,9]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container my-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/signup\",children:\"\\u2190 Go to Signup\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"email\",children:\"Email address:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:handleChange})]}),error?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"error-text\",children:\"The provided credentials are incorrect\"})}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row flex-end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Submit\"})})]})]});}/* harmony default export */ var pages_Login = (Login);\n// CONCATENATED MODULE: ./src/pages/Signup.js\nfunction Signup(props){var _useState=Object(react[\"useState\"])({email:'',password:''}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(ADD_USER),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),addUser=_useMutation2[0];var handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(event){var mutationResponse,token;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return addUser({variables:{email:formState.email,password:formState.password,firstName:formState.firstName,lastName:formState.lastName}});case 3:mutationResponse=_context.sent;token=mutationResponse.data.addUser.token;auth.login(token);case 6:case\"end\":return _context.stop();}},_callee);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container my-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/login\",children:\"\\u2190 Go to Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Signup\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"firstName\",children:\"First Name:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"First\",name:\"firstName\",type:\"firstName\",id:\"firstName\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"lastName\",children:\"Last Name:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Last\",name:\"lastName\",type:\"lastName\",id:\"lastName\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row flex-end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Submit\"})})]})]});}/* harmony default export */ var pages_Signup = (Signup);\n// CONCATENATED MODULE: ./src/components/Nav/index.js\nfunction Nav(){function showNavigation(){if(auth.loggedIn()){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{className:\"flex-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/orderHistory\",children:\"Order History\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/\",onClick:function onClick(){return auth.logout();},children:\"Logout\"})})]});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{className:\"flex-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/signup\",children:\"Signup\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/login\",children:\"Login\"})})]});}}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:\"flex-row px-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(dist[\"b\" /* Link */],{to:\"/\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"shopping bag\",children:\"\\uD83D\\uDECD\\uFE0F\"}),\"-Shop-Shop\"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"nav\",{children:showNavigation()})]});}/* harmony default export */ var components_Nav = (Nav);\n// CONCATENATED MODULE: ./src/pages/Success.js\nfunction Success(){var _useMutation=Object(useMutation[\"a\" /* useMutation */])(ADD_ORDER),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),addOrder=_useMutation2[0];Object(react[\"useEffect\"])(function(){function saveOrder(){return _saveOrder.apply(this,arguments);}function _saveOrder(){_saveOrder=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(){var cart,products,_yield$addOrder,data,productData;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return idbPromise('cart','get');case 2:cart=_context.sent;products=cart.map(function(item){return item._id;});if(!products.length){_context.next=11;break;}_context.next=7;return addOrder({variables:{products:products}});case 7:_yield$addOrder=_context.sent;data=_yield$addOrder.data;productData=data.addOrder.products;productData.forEach(function(item){idbPromise('cart','delete',item);});case 11:setTimeout(function(){window.location.assign('/');},3000);case 12:case\"end\":return _context.stop();}},_callee);}));return _saveOrder.apply(this,arguments);}saveOrder();},[addOrder]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_Jumbotron,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Success!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Thank you for your purchase!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"You will now be redirected to the home page\"})]})});}/* harmony default export */ var pages_Success = (Success);\n// CONCATENATED MODULE: ./src/pages/OrderHistory.js\nfunction OrderHistory(){var _useQuery=Object(useQuery[\"b\" /* useQuery */])(QUERY_USER),data=_useQuery.data;var user;if(data){user=data.user;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container my-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/\",children:\"\\u2190 Back to Products\"}),user?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[\"Order History for \",user.firstName,\" \",user.lastName]}),user.orders.map(function(order){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:new Date(parseInt(order.purchaseDate)).toLocaleDateString()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row\",children:order.products.map(function(_ref,index){var _id=_ref._id,image=_ref.image,name=_ref.name,price=_ref.price;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card px-1 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(dist[\"b\" /* Link */],{to:\"/products/\".concat(_id),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:name,src:\"/images/\".concat(image)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:name})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"$\",price]})})]},index);})})]},order._id);})]}):null]})});}/* harmony default export */ var pages_OrderHistory = (OrderHistory);\n// CONCATENATED MODULE: ./src/App.js\nvar httpLink=Object(createHttpLink[\"a\" /* createHttpLink */])({uri:'/graphql'});var authLink=Object(context[\"a\" /* setContext */])(function(_,_ref){var headers=_ref.headers;var token=localStorage.getItem('id_token');return{headers:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},headers),{},{authorization:token?\"Bearer \".concat(token):''})};});var client=new ApolloClient[\"a\" /* ApolloClient */]({link:authLink.concat(httpLink),cache:new inMemoryCache[\"a\" /* InMemoryCache */]()});function App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ApolloProvider[\"a\" /* ApolloProvider */],{client:client,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(es[\"a\" /* Provider */],{store:store,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Nav,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dist[\"c\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Home,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/login\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Login,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/signup\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Signup,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/success\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Success,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/orderHistory\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_OrderHistory,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/products/:id\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Detail,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"*\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_NoMatch,{})})]})]})})})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/serviceWorker.js\n// This optional code is used to register a service worker.\n// register() is not called by default.\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nvar isLocalhost=Boolean(window.location.hostname==='localhost'||// [::1] is the IPv6 localhost address.\nwindow.location.hostname==='[::1]'||// 127.0.0.0/8 are considered localhost for IPv4.\nwindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function register(config){if( true&&'serviceWorker'in navigator){// The URL constructor is available in all browsers that support SW.\nvar publicUrl=new URL(\"\",window.location.href);if(publicUrl.origin!==window.location.origin){// Our service worker won't work if PUBLIC_URL is on a different origin\n// from what our page is served on. This might happen if a CDN is used to\n// serve assets; see https://github.com/facebook/create-react-app/issues/2374\nreturn;}window.addEventListener('load',function(){var swUrl=\"\".concat(\"\",\"/service-worker.js\");if(isLocalhost){// This is running on localhost. Let's check if a service worker still exists or not.\ncheckValidServiceWorker(swUrl,config);// Add some additional logging to localhost, pointing developers to the\n// service worker/PWA documentation.\nnavigator.serviceWorker.ready.then(function(){console.log('This web app is being served cache-first by a service '+'worker. To learn more, visit https://bit.ly/CRA-PWA');});}else{// Is not localhost. Just register service worker\nregisterValidSW(swUrl,config);}});}}function registerValidSW(swUrl,config){navigator.serviceWorker.register(swUrl).then(function(registration){registration.onupdatefound=function(){var installingWorker=registration.installing;if(installingWorker==null){return;}installingWorker.onstatechange=function(){if(installingWorker.state==='installed'){if(navigator.serviceWorker.controller){// At this point, the updated precached content has been fetched,\n// but the previous service worker will still serve the older\n// content until all client tabs are closed.\nconsole.log('New content is available and will be used when all '+'tabs for this page are closed. See https://bit.ly/CRA-PWA.');// Execute callback\nif(config&&config.onUpdate){config.onUpdate(registration);}}else{// At this point, everything has been precached.\n// It's the perfect time to display a\n// \"Content is cached for offline use.\" message.\nconsole.log('Content is cached for offline use.');// Execute callback\nif(config&&config.onSuccess){config.onSuccess(registration);}}}};};}).catch(function(error){console.error('Error during service worker registration:',error);});}function checkValidServiceWorker(swUrl,config){// Check if the service worker can be found. If it can't reload the page.\nfetch(swUrl,{headers:{'Service-Worker':'script'}}).then(function(response){// Ensure service worker exists, and that we really are getting a JS file.\nvar contentType=response.headers.get('content-type');if(response.status===404||contentType!=null&&contentType.indexOf('javascript')===-1){// No service worker found. Probably a different app. Reload the page.\nnavigator.serviceWorker.ready.then(function(registration){registration.unregister().then(function(){window.location.reload();});});}else{// Service worker found. Proceed as normal.\nregisterValidSW(swUrl,config);}}).catch(function(){console.log('No internet connection found. App is running in offline mode.');});}function unregister(){if('serviceWorker'in navigator){navigator.serviceWorker.ready.then(function(registration){registration.unregister();}).catch(function(error){console.error(error.message);});}}\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nregister();\n\n/***/ })\n\n},[[96,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Christian Flores\\Desktop\\UCB-VIRT-FSF-PT-07-2022-U-LOLC\\22-State\\02-Challenge\\Main\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Christian Flores\\Desktop\\UCB-VIRT-FSF-PT-07-2022-U-LOLC\\22-State\\02-Challenge\\Main\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Christian Flores\\Desktop\\UCB-VIRT-FSF-PT-07-2022-U-LOLC\\22-State\\02-Challenge\\Main\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Christian Flores\\Desktop\\UCB-VIRT-FSF-PT-07-2022-U-LOLC\\22-State\\02-Challenge\\Main\\client\\src\\index.css","C:\\Users\\Christian Flores\\Desktop\\UCB-VIRT-FSF-PT-07-2022-U-LOLC\\22-State\\02-Challenge\\Main\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Christian Flores\\Desktop\\UCB-VIRT-FSF-PT-07-2022-U-LOLC\\22-State\\02-Challenge\\Main\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Christian Flores\\Desktop\\UCB-VIRT-FSF-PT-07-2022-U-LOLC\\22-State\\02-Challenge\\Main\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Christian Flores\\Desktop\\UCB-VIRT-FSF-PT-07-2022-U-LOLC\\22-State\\02-Challenge\\Main\\client\\src\\components\\Cart\\style.css","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/utils/actions.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/utils/reducers.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/utils/store.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/utils/helpers.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/components/ProductItem/index.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/utils/queries.js","C:\\Users\\Christian Flores\\Desktop\\UCB-VIRT-FSF-PT-07-2022-U-LOLC\\22-State\\02-Challenge\\Main\\client\\node_modules\\url-loader\\dist\\cjs.js??ref--5-oneOf-1!C:\\Users\\Christian Flores\\Desktop\\UCB-VIRT-FSF-PT-07-2022-U-LOLC\\22-State\\02-Challenge\\Main\\client\\src\\assets\\spinner.gif","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/components/ProductList/index.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/components/CategoryMenu/index.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/components/CartItem/index.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/utils/auth.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/components/Cart/index.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/pages/Home.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/pages/Detail.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/components/Jumbotron/index.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/pages/NoMatch.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/utils/mutations.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/pages/Login.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/pages/Signup.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/components/Nav/index.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/pages/Success.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/pages/OrderHistory.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/App.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/serviceWorker.js","C:/Users/Christian Flores/Desktop/UCB-VIRT-FSF-PT-07-2022-U-LOLC/22-State/02-Challenge/Main/client/src/index.js"],"names":["UPDATE_PRODUCTS","ADD_TO_CART","ADD_MULTIPLE_TO_CART","REMOVE_FROM_CART","CLEAR_CART","UPDATE_CART_QUANTITY","TOGGLE_CART","UPDATE_CATEGORIES","UPDATE_CURRENT_CATEGORY","initialState","products","categories","currentCategory","cart","cartOpen","reducers","state","action","type","product","map","_id","purchaseQuantity","newState","filter","length","createStore","pluralize","name","count","idbPromise","storeName","method","object","Promise","resolve","reject","request","window","indexedDB","open","db","tx","store","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","oncomplete","close","ProductItem","item","dispatch","useDispatch","useSelector","image","price","quantity","addToCart","itemInCart","find","cartItem","parseInt","QUERY_PRODUCTS","gql","QUERY_CHECKOUT","QUERY_ALL_PRODUCTS","QUERY_CATEGORIES","QUERY_USER","ProductList","useQuery","loading","data","useEffect","forEach","then","filterProducts","category","spinner","CategoryMenu","categoryData","handleClick","id","CartItem","removeFromCart","onChange","value","target","AuthService","decode","getToken","token","isTokenExpired","decoded","exp","Date","now","err","localStorage","getItem","idToken","setItem","location","assign","removeItem","stripePromise","loadStripe","Cart","useLazyQuery","getCheckout","res","redirectToCheckout","sessionId","checkout","session","getCart","toggleCart","calculateTotal","sum","toFixed","submitCheckout","productIds","i","push","variables","Auth","loggedIn","Home","Detail","useParams","useState","currentProduct","setCurrentProduct","indexedProducts","description","p","Jumbotron","children","height","clear","paddingTop","textAlign","NoMatch","LOGIN","ADD_ORDER","ADD_USER","Login","props","email","password","formState","setFormState","useMutation","login","error","handleFormSubmit","event","preventDefault","mutationResponse","handleChange","Signup","addUser","firstName","lastName","Nav","showNavigation","logout","Success","addOrder","saveOrder","productData","setTimeout","OrderHistory","user","orders","order","purchaseDate","toLocaleDateString","index","httpLink","createHttpLink","uri","authLink","setContext","_","headers","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","App","isLocalhost","Boolean","hostname","match","register","config","process","navigator","publicUrl","URL","href","origin","addEventListener","swUrl","checkValidServiceWorker","serviceWorker","ready","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","fetch","response","contentType","get","status","indexOf","unregister","reload","message","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","export const UPDATE_PRODUCTS = \"UPDATE_PRODUCTS\";\r\n\r\nexport const ADD_TO_CART = \"ADD_TO_CART\";\r\nexport const ADD_MULTIPLE_TO_CART = \"ADD_MULTIPLE_TO_CART\";\r\nexport const REMOVE_FROM_CART = \"REMOVE_FROM_CART\";\r\nexport const CLEAR_CART = \"CLEAR_CART\";\r\nexport const UPDATE_CART_QUANTITY = \"UPDATE_CART_QUANTITY\";\r\nexport const TOGGLE_CART = \"TOGGLE_CART\";\r\n\r\nexport const UPDATE_CATEGORIES = \"UPDATE_CATEGORIES\";\r\nexport const UPDATE_CURRENT_CATEGORY = \"UPDATE_CURRENT_CATEGORY\";\r\n","import {\r\n  UPDATE_PRODUCTS,\r\n  ADD_TO_CART,\r\n  UPDATE_CART_QUANTITY,\r\n  REMOVE_FROM_CART,\r\n  ADD_MULTIPLE_TO_CART,\r\n  UPDATE_CATEGORIES,\r\n  UPDATE_CURRENT_CATEGORY,\r\n  CLEAR_CART,\r\n  TOGGLE_CART\r\n} from \"./actions\";\r\n\r\nconst initialState = {\r\n  products: [],\r\n  categories: [],\r\n  currentCategory: '',\r\n  cart: [],\r\n  cartOpen: false\r\n};\r\n\r\nexport const reducers = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case UPDATE_PRODUCTS:\r\n      return {\r\n        ...state,\r\n        products: [...action.products],\r\n      };\r\n\r\n    case ADD_TO_CART:\r\n      return {\r\n        ...state,\r\n        cartOpen: true,\r\n        cart: [...state.cart, action.product],\r\n      };\r\n\r\n    case ADD_MULTIPLE_TO_CART:\r\n      return {\r\n        ...state,\r\n        cart: [...state.cart, ...action.products],\r\n      };\r\n\r\n    case UPDATE_CART_QUANTITY:\r\n      return {\r\n        ...state,\r\n        cartOpen: true,\r\n        cart: state.cart.map(product => {\r\n          if (action._id === product._id) {\r\n            product.purchaseQuantity = action.purchaseQuantity\r\n          }\r\n          return product\r\n        })\r\n      };\r\n\r\n    case REMOVE_FROM_CART:\r\n      let newState = state.cart.filter(product => {\r\n        return product._id !== action._id;\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        cartOpen: newState.length > 0,\r\n        cart: newState\r\n      };\r\n\r\n    case CLEAR_CART:\r\n      return {\r\n        ...state,\r\n        cartOpen: false,\r\n        cart: []\r\n      };\r\n\r\n    case TOGGLE_CART:\r\n      return {\r\n        ...state,\r\n        cartOpen: !state.cartOpen\r\n      };\r\n\r\n    case UPDATE_CATEGORIES:\r\n      return {\r\n        ...state,\r\n        categories: [...action.categories],\r\n      };\r\n\r\n    case UPDATE_CURRENT_CATEGORY:\r\n      return {\r\n        ...state,\r\n        currentCategory: action.currentCategory\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducers;","import { createStore } from 'redux';\r\nimport reducers from './reducers';\r\n\r\nexport default createStore(reducers);","export function pluralize(name, count) {\r\n  if (count === 1) {\r\n    return name;\r\n  }\r\n  return name + 's';\r\n}\r\n\r\nexport function idbPromise(storeName, method, object) {\r\n  return new Promise((resolve, reject) => {\r\n    const request = window.indexedDB.open('shop-shop', 1);\r\n    let db, tx, store;\r\n    request.onupgradeneeded = function(e) {\r\n      const db = request.result;\r\n      db.createObjectStore('products', { keyPath: '_id' });\r\n      db.createObjectStore('categories', { keyPath: '_id' });\r\n      db.createObjectStore('cart', { keyPath: '_id' });\r\n    };\r\n\r\n    request.onerror = function(e) {\r\n      console.log('There was an error');\r\n    };\r\n\r\n    request.onsuccess = function(e) {\r\n      db = request.result;\r\n      tx = db.transaction(storeName, 'readwrite');\r\n      store = tx.objectStore(storeName);\r\n\r\n      db.onerror = function(e) {\r\n        console.log('error', e);\r\n      };\r\n\r\n      switch (method) {\r\n        case 'put':\r\n          store.put(object);\r\n          resolve(object);\r\n          break;\r\n        case 'get':\r\n          const all = store.getAll();\r\n          all.onsuccess = function() {\r\n            resolve(all.result);\r\n          };\r\n          break;\r\n        case 'delete':\r\n          store.delete(object._id);\r\n          break;\r\n        default:\r\n          console.log('No valid method');\r\n          break;\r\n      }\r\n\r\n      tx.oncomplete = function() {\r\n        db.close();\r\n      };\r\n    };\r\n  });\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { pluralize } from '../../utils/helpers';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { ADD_TO_CART, UPDATE_CART_QUANTITY } from '../../utils/actions';\r\nimport { idbPromise } from '../../utils/helpers';\r\n\r\nfunction ProductItem(item) {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector((state) => state);\r\n\r\n  const { image, name, _id, price, quantity } = item;\r\n\r\n  const { cart } = state;\r\n\r\n  const addToCart = () => {\r\n    const itemInCart = cart.find((cartItem) => cartItem._id === _id);\r\n    if (itemInCart) {\r\n      dispatch({\r\n        type: UPDATE_CART_QUANTITY,\r\n        _id: _id,\r\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1,\r\n      });\r\n      idbPromise('cart', 'put', {\r\n        ...itemInCart,\r\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1,\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: ADD_TO_CART,\r\n        product: { ...item, purchaseQuantity: 1 },\r\n      });\r\n      idbPromise('cart', 'put', { ...item, purchaseQuantity: 1 });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card px-1 py-1\">\r\n      <Link to={`/products/${_id}`}>\r\n        <img alt={name} src={`/images/${image}`} />\r\n        <p>{name}</p>\r\n      </Link>\r\n      <div>\r\n        <div>\r\n          {quantity} {pluralize('item', quantity)} in stock\r\n        </div>\r\n        <span>${price}</span>\r\n      </div>\r\n      <button onClick={addToCart}>Add to cart</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductItem;\r\n","import { gql } from '@apollo/client';\r\n\r\nexport const QUERY_PRODUCTS = gql`\r\n  query getProducts($category: ID) {\r\n    products(category: $category) {\r\n      _id\r\n      name\r\n      description\r\n      price\r\n      quantity\r\n      image\r\n      category {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_CHECKOUT = gql`\r\n  query getCheckout($products: [ID]!) {\r\n    checkout(products: $products) {\r\n      session\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_ALL_PRODUCTS = gql`\r\n  {\r\n    products {\r\n      _id\r\n      name\r\n      description\r\n      price\r\n      quantity\r\n      category {\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_CATEGORIES = gql`\r\n  {\r\n    categories {\r\n      _id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_USER = gql`\r\n  {\r\n    user {\r\n      firstName\r\n      lastName\r\n      orders {\r\n        _id\r\n        purchaseDate\r\n        products {\r\n          _id\r\n          name\r\n          description\r\n          price\r\n          quantity\r\n          image\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","export default __webpack_public_path__ + \"static/media/spinner.689d9a07.gif\";","import React, { useEffect } from 'react';\r\nimport ProductItem from '../ProductItem';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { UPDATE_PRODUCTS } from '../../utils/actions';\r\nimport { useQuery } from '@apollo/client';\r\nimport { QUERY_PRODUCTS } from '../../utils/queries';\r\nimport { idbPromise } from '../../utils/helpers';\r\nimport spinner from '../../assets/spinner.gif';\r\n\r\nfunction ProductList() {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector((state) => state);\r\n\r\n  const { currentCategory } = state;\r\n\r\n  const { loading, data } = useQuery(QUERY_PRODUCTS);\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      dispatch({\r\n        type: UPDATE_PRODUCTS,\r\n        products: data.products,\r\n      });\r\n      data.products.forEach((product) => {\r\n        idbPromise('products', 'put', product);\r\n      });\r\n    } else if (!loading) {\r\n      idbPromise('products', 'get').then((products) => {\r\n        dispatch({\r\n          type: UPDATE_PRODUCTS,\r\n          products: products,\r\n        });\r\n      });\r\n    }\r\n  }, [data, loading, dispatch]);\r\n\r\n  function filterProducts() {\r\n    if (!currentCategory) {\r\n      return state.products;\r\n    }\r\n\r\n    return state.products.filter(\r\n      (product) => product.category._id === currentCategory\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"my-2\">\r\n      <h2>Our Products:</h2>\r\n      {state.products.length ? (\r\n        <div className=\"flex-row\">\r\n          {filterProducts().map((product) => (\r\n            <ProductItem\r\n              key={product._id}\r\n              _id={product._id}\r\n              image={product.image}\r\n              name={product.name}\r\n              price={product.price}\r\n              quantity={product.quantity}\r\n            />\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <h3>You haven't added any products yet!</h3>\r\n      )}\r\n      {loading ? <img src={spinner} alt=\"loading\" /> : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductList;\r\n","import React, { useEffect } from 'react';\r\nimport { useQuery } from '@apollo/client';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  UPDATE_CATEGORIES,\r\n  UPDATE_CURRENT_CATEGORY,\r\n} from '../../utils/actions';\r\nimport { QUERY_CATEGORIES } from '../../utils/queries';\r\nimport { idbPromise } from '../../utils/helpers';\r\n\r\nfunction CategoryMenu() {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector((state) => state);\r\n\r\n  const { categories } = state;\r\n\r\n  const { loading, data: categoryData } = useQuery(QUERY_CATEGORIES);\r\n\r\n  useEffect(() => {\r\n    if (categoryData) {\r\n      dispatch({\r\n        type: UPDATE_CATEGORIES,\r\n        categories: categoryData.categories,\r\n      });\r\n      categoryData.categories.forEach((category) => {\r\n        idbPromise('categories', 'put', category);\r\n      });\r\n    } else if (!loading) {\r\n      idbPromise('categories', 'get').then((categories) => {\r\n        dispatch({\r\n          type: UPDATE_CATEGORIES,\r\n          categories: categories,\r\n        });\r\n      });\r\n    }\r\n  }, [categoryData, loading, dispatch]);\r\n\r\n  const handleClick = (id) => {\r\n    dispatch({\r\n      type: UPDATE_CURRENT_CATEGORY,\r\n      currentCategory: id,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Choose a Category:</h2>\r\n      {categories.map((item) => (\r\n        <button\r\n          key={item._id}\r\n          onClick={() => {\r\n            handleClick(item._id);\r\n          }}\r\n        >\r\n          {item.name}\r\n        </button>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CategoryMenu;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { REMOVE_FROM_CART, UPDATE_CART_QUANTITY } from \"../../utils/actions\";\r\nimport { idbPromise } from \"../../utils/helpers\";\r\n\r\nconst CartItem = ({ item }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const removeFromCart = item => {\r\n    dispatch({\r\n      type: REMOVE_FROM_CART,\r\n      _id: item._id\r\n    });\r\n    idbPromise('cart', 'delete', { ...item });\r\n\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    const value = e.target.value;\r\n    if (value === '0') {\r\n      dispatch({\r\n        type: REMOVE_FROM_CART,\r\n        _id: item._id\r\n      });\r\n      idbPromise('cart', 'delete', { ...item });\r\n\r\n    } else {\r\n      dispatch({\r\n        type: UPDATE_CART_QUANTITY,\r\n        _id: item._id,\r\n        purchaseQuantity: parseInt(value)\r\n      });\r\n      idbPromise('cart', 'put', { ...item, purchaseQuantity: parseInt(value) });\r\n\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex-row\">\r\n      <div>\r\n        <img\r\n          src={`/images/${item.image}`}\r\n          alt=\"\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <div>{item.name}, ${item.price}</div>\r\n        <div>\r\n          <span>Qty:</span>\r\n          <input\r\n            type=\"number\"\r\n            placeholder=\"1\"\r\n            value={item.purchaseQuantity}\r\n            onChange={onChange}\r\n          />\r\n          <span\r\n            role=\"img\"\r\n            aria-label=\"trash\"\r\n            onClick={() => removeFromCart(item)}\r\n          >\r\n            \r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartItem;","import decode from 'jwt-decode';\r\n\r\nclass AuthService {\r\n  getProfile() {\r\n    return decode(this.getToken());\r\n  }\r\n\r\n  loggedIn() {\r\n    // Checks if there is a saved token and it's still valid\r\n    const token = this.getToken();\r\n    return !!token && !this.isTokenExpired(token);\r\n  }\r\n\r\n  isTokenExpired(token) {\r\n    try {\r\n      const decoded = decode(token);\r\n      if (decoded.exp < Date.now() / 1000) {\r\n        return true;\r\n      } else return false;\r\n    } catch (err) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  getToken() {\r\n    // Retrieves the user token from localStorage\r\n    return localStorage.getItem('id_token');\r\n  }\r\n\r\n  login(idToken) {\r\n    // Saves user token to localStorage\r\n    localStorage.setItem('id_token', idToken);\r\n\r\n    window.location.assign('/');\r\n  }\r\n\r\n  logout() {\r\n    // Clear user token and profile data from localStorage\r\n    localStorage.removeItem('id_token');\r\n    // this will reload the page and reset the state of the application\r\n    window.location.assign('/');\r\n  }\r\n}\r\n\r\nexport default new AuthService();\r\n","import React, { useEffect } from 'react';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\nimport { useLazyQuery } from '@apollo/client';\r\nimport { QUERY_CHECKOUT } from '../../utils/queries';\r\nimport { idbPromise } from '../../utils/helpers';\r\nimport CartItem from '../CartItem';\r\nimport Auth from '../../utils/auth';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { TOGGLE_CART, ADD_MULTIPLE_TO_CART } from '../../utils/actions';\r\nimport './style.css';\r\n\r\nconst stripePromise = loadStripe('pk_test_TYooMQauvdEDq54NiTphI7jx');\r\n\r\nconst Cart = () => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector((state) => state);\r\n  const [getCheckout, { data }] = useLazyQuery(QUERY_CHECKOUT);\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      stripePromise.then((res) => {\r\n        res.redirectToCheckout({ sessionId: data.checkout.session });\r\n      });\r\n    }\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    async function getCart() {\r\n      const cart = await idbPromise('cart', 'get');\r\n      dispatch({ type: ADD_MULTIPLE_TO_CART, products: [...cart] });\r\n    }\r\n\r\n    if (!state.cart.length) {\r\n      getCart();\r\n    }\r\n  }, [state.cart.length, dispatch]);\r\n\r\n  function toggleCart() {\r\n    dispatch({ type: TOGGLE_CART });\r\n  }\r\n\r\n  function calculateTotal() {\r\n    let sum = 0;\r\n    state.cart.forEach((item) => {\r\n      sum += item.price * item.purchaseQuantity;\r\n    });\r\n    return sum.toFixed(2);\r\n  }\r\n\r\n  function submitCheckout() {\r\n    const productIds = [];\r\n\r\n    state.cart.forEach((item) => {\r\n      for (let i = 0; i < item.purchaseQuantity; i++) {\r\n        productIds.push(item._id);\r\n      }\r\n    });\r\n\r\n    getCheckout({\r\n      variables: { products: productIds },\r\n    });\r\n  }\r\n\r\n  if (!state.cartOpen) {\r\n    return (\r\n      <div className=\"cart-closed\" onClick={toggleCart}>\r\n        <span role=\"img\" aria-label=\"trash\">\r\n          \r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"cart\">\r\n      <div className=\"close\" onClick={toggleCart}>\r\n        [close]\r\n      </div>\r\n      <h2>Shopping Cart</h2>\r\n      {state.cart.length ? (\r\n        <div>\r\n          {state.cart.map((item) => (\r\n            <CartItem key={item._id} item={item} />\r\n          ))}\r\n\r\n          <div className=\"flex-row space-between\">\r\n            <strong>Total: ${calculateTotal()}</strong>\r\n\r\n            {Auth.loggedIn() ? (\r\n              <button onClick={submitCheckout}>Checkout</button>\r\n            ) : (\r\n              <span>(log in to check out)</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <h3>\r\n          <span role=\"img\" aria-label=\"shocked\">\r\n            \r\n          </span>\r\n          You haven't added anything to your cart yet!\r\n        </h3>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React from \"react\";\r\nimport ProductList from \"../components/ProductList\";\r\nimport CategoryMenu from \"../components/CategoryMenu\";\r\nimport Cart from \"../components/Cart\";\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <CategoryMenu />\r\n      <ProductList />\r\n      <Cart />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/client';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport Cart from '../components/Cart';\r\nimport {\r\n  REMOVE_FROM_CART,\r\n  UPDATE_CART_QUANTITY,\r\n  ADD_TO_CART,\r\n  UPDATE_PRODUCTS,\r\n} from '../utils/actions';\r\nimport { QUERY_PRODUCTS } from '../utils/queries';\r\nimport { idbPromise } from '../utils/helpers';\r\nimport spinner from '../assets/spinner.gif';\r\n\r\nfunction Detail() {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector((state) => state);\r\n  const { id } = useParams();\r\n\r\n  const [currentProduct, setCurrentProduct] = useState({});\r\n\r\n  const { loading, data } = useQuery(QUERY_PRODUCTS);\r\n\r\n  const { products, cart } = state;\r\n\r\n  useEffect(() => {\r\n    // already in global store\r\n    if (products.length) {\r\n      setCurrentProduct(products.find((product) => product._id === id));\r\n    }\r\n    // retrieved from server\r\n    else if (data) {\r\n      dispatch({\r\n        type: UPDATE_PRODUCTS,\r\n        products: data.products,\r\n      });\r\n\r\n      data.products.forEach((product) => {\r\n        idbPromise('products', 'put', product);\r\n      });\r\n    }\r\n    // get cache from idb\r\n    else if (!loading) {\r\n      idbPromise('products', 'get').then((indexedProducts) => {\r\n        dispatch({\r\n          type: UPDATE_PRODUCTS,\r\n          products: indexedProducts,\r\n        });\r\n      });\r\n    }\r\n  }, [products, data, loading, dispatch, id]);\r\n\r\n  const addToCart = () => {\r\n    const itemInCart = cart.find((cartItem) => cartItem._id === id);\r\n    if (itemInCart) {\r\n      dispatch({\r\n        type: UPDATE_CART_QUANTITY,\r\n        _id: id,\r\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1,\r\n      });\r\n      idbPromise('cart', 'put', {\r\n        ...itemInCart,\r\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1,\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: ADD_TO_CART,\r\n        product: { ...currentProduct, purchaseQuantity: 1 },\r\n      });\r\n      idbPromise('cart', 'put', { ...currentProduct, purchaseQuantity: 1 });\r\n    }\r\n  };\r\n\r\n  const removeFromCart = () => {\r\n    dispatch({\r\n      type: REMOVE_FROM_CART,\r\n      _id: currentProduct._id,\r\n    });\r\n\r\n    idbPromise('cart', 'delete', { ...currentProduct });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {currentProduct && cart ? (\r\n        <div className=\"container my-1\">\r\n          <Link to=\"/\"> Back to Products</Link>\r\n\r\n          <h2>{currentProduct.name}</h2>\r\n\r\n          <p>{currentProduct.description}</p>\r\n\r\n          <p>\r\n            <strong>Price:</strong>${currentProduct.price}{' '}\r\n            <button onClick={addToCart}>Add to Cart</button>\r\n            <button\r\n              disabled={!cart.find((p) => p._id === currentProduct._id)}\r\n              onClick={removeFromCart}\r\n            >\r\n              Remove from Cart\r\n            </button>\r\n          </p>\r\n\r\n          <img\r\n            src={`/images/${currentProduct.image}`}\r\n            alt={currentProduct.name}\r\n          />\r\n        </div>\r\n      ) : null}\r\n      {loading ? <img src={spinner} alt=\"loading\" /> : null}\r\n      <Cart />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Detail;\r\n","import React from 'react';\r\n\r\nfunction Jumbotron({ children }) {\r\n  return (\r\n    <div\r\n      style={{\r\n        height: 560,\r\n        clear: 'both',\r\n        paddingTop: 120,\r\n        textAlign: 'center',\r\n      }}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Jumbotron;\r\n","import React from \"react\";\r\nimport Jumbotron from \"../components/Jumbotron\";\r\n\r\nconst NoMatch = () => {\r\n  return (\r\n    <div>\r\n      <Jumbotron>\r\n        <h1>404 Page Not Found</h1>\r\n        <h1>\r\n          <span role=\"img\" aria-label=\"Face With Rolling Eyes Emoji\">\r\n            \r\n          </span>\r\n        </h1>\r\n      </Jumbotron>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoMatch;\r\n","import { gql } from '@apollo/client';\r\n\r\nexport const LOGIN = gql`\r\n  mutation login($email: String!, $password: String!) {\r\n    login(email: $email, password: $password) {\r\n      token\r\n      user {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_ORDER = gql`\r\n  mutation addOrder($products: [ID]!) {\r\n    addOrder(products: $products) {\r\n      purchaseDate\r\n      products {\r\n        _id\r\n        name\r\n        description\r\n        price\r\n        quantity\r\n        category {\r\n          name\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_USER = gql`\r\n  mutation addUser(\r\n    $firstName: String!\r\n    $lastName: String!\r\n    $email: String!\r\n    $password: String!\r\n  ) {\r\n    addUser(\r\n      firstName: $firstName\r\n      lastName: $lastName\r\n      email: $email\r\n      password: $password\r\n    ) {\r\n      token\r\n      user {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React, { useState } from 'react';\r\nimport { useMutation } from '@apollo/client';\r\nimport { Link } from 'react-router-dom';\r\nimport { LOGIN } from '../utils/mutations';\r\nimport Auth from '../utils/auth';\r\n\r\nfunction Login(props) {\r\n  const [formState, setFormState] = useState({ email: '', password: '' });\r\n  const [login, { error }] = useMutation(LOGIN);\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const mutationResponse = await login({\r\n        variables: { email: formState.email, password: formState.password },\r\n      });\r\n      const token = mutationResponse.data.login.token;\r\n      Auth.login(token);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setFormState({\r\n      ...formState,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container my-1\">\r\n      <Link to=\"/signup\"> Go to Signup</Link>\r\n\r\n      <h2>Login</h2>\r\n      <form onSubmit={handleFormSubmit}>\r\n        <div className=\"flex-row space-between my-2\">\r\n          <label htmlFor=\"email\">Email address:</label>\r\n          <input\r\n            placeholder=\"youremail@test.com\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            id=\"email\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"flex-row space-between my-2\">\r\n          <label htmlFor=\"pwd\">Password:</label>\r\n          <input\r\n            placeholder=\"******\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            id=\"pwd\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        {error ? (\r\n          <div>\r\n            <p className=\"error-text\">The provided credentials are incorrect</p>\r\n          </div>\r\n        ) : null}\r\n        <div className=\"flex-row flex-end\">\r\n          <button type=\"submit\">Submit</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useMutation } from '@apollo/client';\r\nimport Auth from '../utils/auth';\r\nimport { ADD_USER } from '../utils/mutations';\r\n\r\nfunction Signup(props) {\r\n  const [formState, setFormState] = useState({ email: '', password: '' });\r\n  const [addUser] = useMutation(ADD_USER);\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const mutationResponse = await addUser({\r\n      variables: {\r\n        email: formState.email,\r\n        password: formState.password,\r\n        firstName: formState.firstName,\r\n        lastName: formState.lastName,\r\n      },\r\n    });\r\n    const token = mutationResponse.data.addUser.token;\r\n    Auth.login(token);\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setFormState({\r\n      ...formState,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container my-1\">\r\n      <Link to=\"/login\"> Go to Login</Link>\r\n\r\n      <h2>Signup</h2>\r\n      <form onSubmit={handleFormSubmit}>\r\n        <div className=\"flex-row space-between my-2\">\r\n          <label htmlFor=\"firstName\">First Name:</label>\r\n          <input\r\n            placeholder=\"First\"\r\n            name=\"firstName\"\r\n            type=\"firstName\"\r\n            id=\"firstName\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"flex-row space-between my-2\">\r\n          <label htmlFor=\"lastName\">Last Name:</label>\r\n          <input\r\n            placeholder=\"Last\"\r\n            name=\"lastName\"\r\n            type=\"lastName\"\r\n            id=\"lastName\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"flex-row space-between my-2\">\r\n          <label htmlFor=\"email\">Email:</label>\r\n          <input\r\n            placeholder=\"youremail@test.com\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            id=\"email\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"flex-row space-between my-2\">\r\n          <label htmlFor=\"pwd\">Password:</label>\r\n          <input\r\n            placeholder=\"******\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            id=\"pwd\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"flex-row flex-end\">\r\n          <button type=\"submit\">Submit</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n","import React from 'react';\r\nimport Auth from '../../utils/auth';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Nav() {\r\n  function showNavigation() {\r\n    if (Auth.loggedIn()) {\r\n      return (\r\n        <ul className=\"flex-row\">\r\n          <li className=\"mx-1\">\r\n            <Link to=\"/orderHistory\">Order History</Link>\r\n          </li>\r\n          <li className=\"mx-1\">\r\n            {/* this is not using the Link component to logout or user and then refresh the application to the start */}\r\n            <a href=\"/\" onClick={() => Auth.logout()}>\r\n              Logout\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      );\r\n    } else {\r\n      return (\r\n        <ul className=\"flex-row\">\r\n          <li className=\"mx-1\">\r\n            <Link to=\"/signup\">Signup</Link>\r\n          </li>\r\n          <li className=\"mx-1\">\r\n            <Link to=\"/login\">Login</Link>\r\n          </li>\r\n        </ul>\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <header className=\"flex-row px-1\">\r\n      <h1>\r\n        <Link to=\"/\">\r\n          <span role=\"img\" aria-label=\"shopping bag\">\r\n            \r\n          </span>\r\n          -Shop-Shop\r\n        </Link>\r\n      </h1>\r\n\r\n      <nav>{showNavigation()}</nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Nav;\r\n","import React, { useEffect } from 'react';\r\nimport { useMutation } from '@apollo/client';\r\nimport Jumbotron from '../components/Jumbotron';\r\nimport { ADD_ORDER } from '../utils/mutations';\r\nimport { idbPromise } from '../utils/helpers';\r\n\r\nfunction Success() {\r\n  const [addOrder] = useMutation(ADD_ORDER);\r\n\r\n  useEffect(() => {\r\n    async function saveOrder() {\r\n      const cart = await idbPromise('cart', 'get');\r\n      const products = cart.map((item) => item._id);\r\n\r\n      if (products.length) {\r\n        const { data } = await addOrder({ variables: { products } });\r\n        const productData = data.addOrder.products;\r\n\r\n        productData.forEach((item) => {\r\n          idbPromise('cart', 'delete', item);\r\n        });\r\n      }\r\n\r\n      setTimeout(() => {\r\n        window.location.assign('/');\r\n      }, 3000);\r\n    }\r\n\r\n    saveOrder();\r\n  }, [addOrder]);\r\n\r\n  return (\r\n    <div>\r\n      <Jumbotron>\r\n        <h1>Success!</h1>\r\n        <h2>Thank you for your purchase!</h2>\r\n        <h2>You will now be redirected to the home page</h2>\r\n      </Jumbotron>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Success;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { useQuery } from '@apollo/client';\r\nimport { QUERY_USER } from '../utils/queries';\r\n\r\nfunction OrderHistory() {\r\n  const { data } = useQuery(QUERY_USER);\r\n  let user;\r\n\r\n  if (data) {\r\n    user = data.user;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container my-1\">\r\n        <Link to=\"/\"> Back to Products</Link>\r\n\r\n        {user ? (\r\n          <>\r\n            <h2>\r\n              Order History for {user.firstName} {user.lastName}\r\n            </h2>\r\n            {user.orders.map((order) => (\r\n              <div key={order._id} className=\"my-2\">\r\n                <h3>\r\n                  {new Date(parseInt(order.purchaseDate)).toLocaleDateString()}\r\n                </h3>\r\n                <div className=\"flex-row\">\r\n                  {order.products.map(({ _id, image, name, price }, index) => (\r\n                    <div key={index} className=\"card px-1 py-1\">\r\n                      <Link to={`/products/${_id}`}>\r\n                        <img alt={name} src={`/images/${image}`} />\r\n                        <p>{name}</p>\r\n                      </Link>\r\n                      <div>\r\n                        <span>${price}</span>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </>\r\n        ) : null}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default OrderHistory;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\r\nimport {\r\n  ApolloClient,\r\n  InMemoryCache,\r\n  ApolloProvider,\r\n  createHttpLink,\r\n} from '@apollo/client';\r\nimport { setContext } from '@apollo/client/link/context';\r\n\r\nimport { Provider } from 'react-redux';\r\nimport store from './utils/store';\r\n\r\nimport Home from './pages/Home';\r\nimport Detail from './pages/Detail';\r\nimport NoMatch from './pages/NoMatch';\r\nimport Login from './pages/Login';\r\nimport Signup from './pages/Signup';\r\nimport Nav from './components/Nav';\r\nimport Success from './pages/Success';\r\nimport OrderHistory from './pages/OrderHistory';\r\n\r\nconst httpLink = createHttpLink({\r\n  uri: '/graphql',\r\n});\r\n\r\nconst authLink = setContext((_, { headers }) => {\r\n  const token = localStorage.getItem('id_token');\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : '',\r\n    },\r\n  };\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  link: authLink.concat(httpLink),\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\nfunction App() {\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <Router>\r\n        <div>\r\n          <Provider store={store}>\r\n            <Nav />\r\n            <Routes>\r\n              <Route \r\n                path=\"/\" \r\n                element={<Home />} \r\n              />\r\n              <Route \r\n                path=\"/login\" \r\n                element={<Login />} \r\n              />\r\n              <Route \r\n                path=\"/signup\" \r\n                element={<Signup />} \r\n              />\r\n              <Route \r\n                path=\"/success\" \r\n                element={<Success />} \r\n              />\r\n              <Route \r\n                path=\"/orderHistory\" \r\n                element={<OrderHistory />} \r\n              />\r\n              <Route \r\n                path=\"/products/:id\" \r\n                element={<Detail />} \r\n              />\r\n              <Route \r\n                path=\"*\" \r\n                element={<NoMatch />} \r\n              />\r\n            </Routes>\r\n          </Provider>\r\n        </div>\r\n      </Router>\r\n    </ApolloProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.0/8 are considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n\r\nexport function register(config) {\r\n  if (\r\n    process.env.NODE_ENV === 'production' &&\r\n    'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"]}}